# 名錄系統架構

## 構想
分類學家以學名做為討論分類群的媒介。分類學活動有高比例在討論人們應如何以學名稱呼具名模式標本外的生物族群。由於生物族群的特徵未必有明顯邊界，可能隨個體、時空漸變，加上總有取樣偏差，因此分類學家對族群劃分與學名的適用性就會有不同見解，即所謂的分類觀點差異。分類學家將各自的觀點發表為正式的學術著作，並經常以異名表的形式摘要呈現，同時為學名使用異同加上註解、引用出處，串連為承先啟後的命名沿革。過往的系統為了完整及一致地呈現國家尺度的生物多樣性，優先以整合後的單一觀點為設計考量，卻也在知識更新與保存彈性上遇到挑戰。為解決此難題，吾人需先盡可能建構起符合分類學家工作流程之知識模型。

依此需求設計的新名錄系統可視為以數位形式結構化倉儲，融合版本控制理念之異名表；除了紀錄依文獻發表時間串連的分類事件，也能保存多元並進的分類觀點與差異。為了減低分類學家對系統架構的認知與操作門檻，設計構思時參考了分類學家編彙異名表的流程及思考表達習慣，從中分離出獨立的概念，建構彼此間的關係，並盡可能融合動植物分類命名的差異。

## 概念
吾人可簡單描述工作流程為：「作者」檢視標本後會在分類文章中聲明其觀點，發表新的物種「學名」，或釐清、修訂過去的學名與其「使用」上的問題與矛盾，最終可總結為「名錄」。文章觀點也可能援引自前人成果，引用「文獻」借代存證。故吾人可視名錄為互不衝突的分類觀點編彙成的單一分類觀，並定義任意的「命名空間」為觀點邊界。各詞彙解釋如下。

### 學名
完整學名包含拉丁組合名、作者年代 (用以區分同物異名 synonym 或異物同名等homonym)，位階標記 (subsp., var.,...) 等元素，並隱含命名當下指涉的分類群資訊，如模式標本資訊與特徵描述。

### 學名使用
特定文獻或名錄中將學名用於特定族群的狀況與關連，例如有效性與主/次同物異名的從屬 (senior/junior synonyms,...)、鑑定明朗程度 (cf., affin.,...)、鑑定與觀點差異 (misidentification, auct. non., nec., sensu,...)、學名在文獻中的使用狀態 (syn. nov., comb. nov.,...)、未既往的命名衝突建立的取代名 (replacement)，學名拼寫差異 (誤拼、字尾變異等) 與非命名分類事件涉及的模式指定等。若同篇文獻出現同一類群的學名拼寫差異亦在此註明。

### 文獻
分類活動的有效發表出處。大致有期刊文章、論文集、書本、叢書、數位出版品等形式。考量到建立初期資料累積困難，系統將採取分段式文獻管理：首先忠實紀錄出版品中的文獻引用方式，再透過 open refine 類的工具協助，挑選出引用文字有異但內涵與觀點相同的文獻例如 [福爾摩莎植物名錄] vs. [Henry, A List of Plants from Formosa 18. 1896.] vs. [List Pl. Formos.] 並給予相同的命名空間 (namespace)，做為區分分類沿革前後事件以及彼此參照識別用的概念。

### 作者
包含學名作者(含有效與無效作者)、文獻作者與修訂作者等。可再細分為以拉丁字母拼寫的完整名稱與慣用簡稱、別名、以作者母語表示的原名等資訊。

### 名錄
在此詮釋為：由單一或多來源且互不矛盾的學名使用組成的清單。每份名錄有屬於自己的命名空間。學名使用矛盾僅能存在於不同的命名空間之間。

### 高階類群
屬級以上即視為高階類群，高階類群間會串連成樹狀的分類系統。分類學家並沒有針對高階類群變動或沿革設置如種級的異名表的慣例。高階類群的定義實際上由其下有哪些所屬類群決定，在此吾人將高階類群沿革描述為：幾個主要關注層級的分類群（界、門、綱、目、科、屬、種與其下）與其上類群的對應關係，在不同作者或不同著作中的差異。舉例來說，觀點A認定 G1 ⊂ F1, G2 ⊂ F1，另一觀點B認為 G1 ⊂ F1, G2 ⊂ F2 而非處理成 F1(G1,G2) 與 F1(G1), F2(G2)。同時也建立如種級同物異名的處理機制，簡化大量資料建置或適應文章未描述清楚之情境。高階觀點差異同樣使用命名空間做區隔。亞屬則放在「學名使用」中與其他種級資訊一併處理。

## 範例
### 種級與其下的示意圖
![名錄、文獻與學名使用之間的關聯][data-model-example]

[data-model-example]: https://raw.githubusercontent.com/TaiBIF/national-checklist/master/data-model/taibnet_model.png "名錄、文獻與學名使用之間的關聯"

### 示意圖說明
- 黃色 1989 年 Author4 的文章 RefD 中發表了 X. name4 Author4 這個新種。
- 橘色 2001 年的文章 RefA 討論到兩個物種。包括 X. name1 Author1 與牠的同物異名 X. name2 Author2；以及 X. name3 Author3，並首次將文獻 RefD 發表的 X. name4 Author4列為同物異名。
- 綠色 2002 年的文章 RefB 討論了三個物種。此篇文章認為 X. name4 Author4 是 X. name1 Author1 的次同物異名；將 X. name2 Author2 從過往認為是 X. name1 Author1 的次同物異名恢復為有效名；將 X. name3 Author3 轉屬為 Y. name3 (Author3)。
- 藍色 2007 年的文章 RefC 指出 RefB 中被鑑定為 X. name2 的標本 specimen X1，應該是誤鑑定。依新的分子證據 specimen X1 應該是 X. name1 這個種。這邊假設 specimen X1 採集自臺灣。
- RefD, 1989、RefA, 2001 與 RefB, 2002 皆在文章中以異名表的形式紀錄分類結果。RefC 則僅以文字描述了分類結果。這四篇文章表達了各有異同的鑑定與分類觀點。

協助建置臺灣物種名錄系統內容的專家學者在回顧了這些文獻後，認為部分的分類處理適用於臺灣現況，但部分仍有模糊地帶或爭議。因此採納了 RefA、RefB 與 RefC 視 X. name1 Author1 為有效名的觀點；並採納了 RefA 視 X. name4 為 X. name3 的次同物異名這個觀點，捨棄了 RefB 視 X. name4 為 X. name1 的次同物異名此觀點；同時又接受 RefB 將 X. name3 轉屬為 Y. name3 的處理，因此將能推理出 X. name4 為 Y. name3 的次同物異名的學名使用情境；專家亦決定接受 RefC 根據新證據得到對臺灣標本的鑑定結果，因此過往在臺灣被認為是 X. name2 的物種都有可能是 X. name1，臺灣有沒有 X. name1 則有待商榷。這些整合過往與當代的學名使用與觀點，構成了臺灣物種名錄的 2018 版，代表了特定時間點上的臺灣物種名錄綜合分類觀點。這些學名使用與分類觀點被封裝在自己的文獻與異名表泡泡中，以文獻為單位，彼此援引，表達觀點的異同，組成可以追朔的錯綜分類觀點沿革，同時維持不受影響的觀點獨立性。

資料模型現況與範例資料暫時先參見 ref_based_name_history_version_control.xlsx
